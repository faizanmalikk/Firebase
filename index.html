<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js"></script> 
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database.js"></script>
    <script>
          const firebaseConfig = {
    apiKey: "AIzaSyCsw1n6MAmLyns14au0HjeCu4rVfrk9LBg",
    authDomain: "web-development-71bfd.firebaseapp.com",
    databaseURL: "https://web-development-71bfd-default-rtdb.firebaseio.com",
    projectId: "web-development-71bfd",
    storageBucket: "web-development-71bfd.appspot.com",
    messagingSenderId: "484635774453",
    appId: "1:484635774453:web:96238f4197ccf5edf4a4bc",
    measurementId: "G-H6Z0Z5490L"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
    </script>  -->


</head>

<body >

  name <input id="text" type=" text">
  rollno <input id="rol" type="text">
  <button id="btn"> ADD</button>
  <button id="btn1"> Get</button>
  <button id="btn2"> Delete</button>
  <button id="btn3"> Update</button>

  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyD6-IEdw1LyufsA_brvPD1B4-qxHgF9-PA",
      authDomain: "practice-374ea.firebaseapp.com",
      projectId: "practice-374ea",
      storageBucket: "practice-374ea.appspot.com",
      messagingSenderId: "62858053679",
      appId: "1:62858053679:web:26f0d4b2db56ac91ae1eda",
      measurementId: "G-3GJKDS3XBM"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);



    import { getDatabase, set, child,get, remove, update, ref}
      from "https://www.gstatic.com/firebasejs/9.1.3/firebase-database.js";
    const db = getDatabase()
    
  





     var name = document.getElementById("text")
    var rollno = document.getElementById("rol")
    var button = document.getElementById("btn")
    //--------insert data
    function insertdata() {
      var x = Math.random()*254657897986
      x = Math.floor(x)
      set(ref(db, "students/" + x),{
        nameofstudent: name.value,
        rollnostu: rollno.value,
        key:x
      })
        .then(() => {
          alert("data stored successfully")
        })
        .catch((error) => {
          alert("unsuccessfully error" + error)
        })



   }

    btn.addEventListener('click', insertdata)
   // -----------get data from firebase
    function getdata(){
const dbref = ref(db)
get(child(dbref,"students/" + rollno.value )).then((snapshot)=>{
  if(snapshot.exists()){
    name.value = snapshot.val().nameofstudent
    rollno.value = snapshot.val().rollnostu
  }
  else{
    alert("no data found")
  }
})
.catch((error)=>{
  
  alert("unsuccessfully error" + error)
})


    }
    //-----------update data
    function updatedata(){
    
      update(ref(db, "students/"+ rollno.value), {
        nameofstudent: name.value,
       
      })
        .then(() => {
          alert("data updated successfully")
        })
        .catch((error) => {
          alert("unsuccessfully error" + error)
        })
    }
    //---------remove data
    function removedata(){
    
    remove(ref(db, "students/"+ rollno.value), {
     
     
    })
      .then(() => {
        alert("data removed successfully")
      })
      .catch((error) => {
        alert("unsuccessfully error" + error)
      })
  }

    //--------btns
    btn1.addEventListener('click', getdata)
    btn2.addEventListener('click', removedata)
    btn3.addEventListener('click', updatedata)





  </script>
  <script src="app.js"></script>
</body>

</html>